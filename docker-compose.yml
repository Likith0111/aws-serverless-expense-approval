# DynamoDB Local for integration testing with real DynamoDB protocol.
#
# Usage:
#   docker-compose up -d
#   export DYNAMODB_ENDPOINT=http://localhost:8000
#   export USE_IN_MEMORY=false
#   npm start

version: "3.8"

services:
  dynamodb-local:
    image: amazon/dynamodb-local:latest
    container_name: expense-dynamodb
    ports:
      - "8000:8000"
    command: ["-jar", "DynamoDBLocal.jar", "-sharedDb"]
    volumes:
      - dynamodb-data:/home/dynamodblocal/data
    restart: unless-stopped

volumes:
  dynamodb-data:
